doctype html
html(lang="id")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Verifikasi Email - #{propertyName}
    style.
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #374151; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px 0; }
      .email-container { max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 20px; overflow: hidden; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15); position: relative; }
      .header { background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%); padding: 40px 30px; text-align: center; position: relative; overflow: hidden; }
      .header::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); animation: pulse 3s ease-in-out infinite; }
      @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 0.5; } 50% { transform: scale(1.1); opacity: 0.8; } }
      .logo { width: 60px; height: 60px; background: rgba(255, 255, 255, 0.2); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white; position: relative; z-index: 1; backdrop-filter: blur(10px); }
      .header h1 { color: #ffffff; font-size: 28px; font-weight: 700; margin-bottom: 8px; position: relative; z-index: 1; }
      .header p { color: rgba(255, 255, 255, 0.9); font-size: 16px; position: relative; z-index: 1; }
      .content { padding: 40px 30px; }
      .greeting { font-size: 20px; font-weight: 600; color: #1f2937; margin-bottom: 16px; }
      .message { font-size: 16px; color: #6b7280; margin-bottom: 30px; line-height: 1.7; }
      .verification-card { background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%); border-radius: 16px; padding: 30px; text-align: center; margin: 30px 0; position: relative; overflow: hidden; }
      .verification-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #4f46e5, #7c3aed, #ec4899); }
      .verification-code { font-size: 36px; font-weight: 700; color: #4f46e5; letter-spacing: 4px; margin: 16px 0; font-family: 'Monaco', 'Consolas', monospace; text-shadow: 0 2px 4px rgba(79, 70, 229, 0.2); }
      .verification-label { font-size: 14px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
      .property-info { background: #f8fafc; border-left: 4px solid #4f46e5; padding: 20px; margin: 30px 0; border-radius: 0 12px 12px 0; }
      .property-info h3 { color: #1f2937; font-size: 18px; font-weight: 600; margin-bottom: 12px; }
      .info-item { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }
      .info-label { font-weight: 500; color: #6b7280; }
      .info-value { font-weight: 600; color: #1f2937; }
      .cta-button { display: inline-block; background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%); color: white; text-decoration: none; padding: 16px 32px; border-radius: 12px; font-weight: 600; font-size: 16px; text-align: center; margin: 20px 0; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3); }
      .cta-button:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4); }
      .warning { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 1px solid #f59e0b; border-radius: 12px; padding: 20px; margin: 30px 0; display: flex; align-items: flex-start; }
      .warning-icon { width: 20px; height: 20px; background: #f59e0b; border-radius: 50%; margin-right: 12px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold; }
      .warning-text { font-size: 14px; color: #92400e; line-height: 1.5; }
      .footer { background: #f9fafb; padding: 30px; text-align: center; border-top: 1px solid #e5e7eb; }
      .footer-text { font-size: 14px; color: #6b7280; margin-bottom: 16px; }
      .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
      .footer-link { color: #4f46e5; text-decoration: none; font-size: 14px; font-weight: 500; }
      .footer-link:hover { text-decoration: underline; }
      .copyright { font-size: 12px; color: #9ca3af; }
      @media (max-width: 600px) { .email-container { margin: 0 10px; border-radius: 16px; } .content, .header, .footer { padding: 20px; } .verification-code { font-size: 28px; letter-spacing: 2px; } .header h1 { font-size: 24px; } .footer-links { flex-direction: column; gap: 12px; } }

  body
    .email-container
      .header
        .logo üè†
        h1 Verifikasi Email
        p #{propertyName || 'Property Management System'}

      .content
        .greeting Halo, #{fullName}!

        .message
          p Terima kasih telah mendaftar sebagai #{isAdminDriven ? 'kepala keluarga' : 'anggota keluarga'} di sistem kami.
          p Untuk melengkapi proses registrasi, silakan gunakan kode verifikasi di bawah ini:
        
        .verification-card
          .verification-label Kode Verifikasi
          .verification-code #{verificationCode}
          p(style="color: #6b7280; font-size: 14px; margin-top: 12px;") Kode ini berlaku selama 15 menit
        
        if unitNumber
          .property-info
            h3 Informasi Property
            .info-item
              span.info-label Nama Property:
              span.info-value #{propertyName}
            .info-item
              span.info-label Unit Number:
              span.info-value #{unitNumber}
        
        .warning
          .warning-icon !
          .warning-text
            strong Penting:
            |  Jangan bagikan kode verifikasi ini kepada siapapun. 
            | Tim kami tidak akan pernah meminta kode verifikasi melalui telepon atau email.
        
        .message
          p Jika Anda tidak melakukan registrasi ini, silakan abaikan email ini atau hubungi tim support kami.
      
      .footer
        .footer-text Email ini dikirim secara otomatis, mohon jangan membalas email ini.
        .footer-links
          a.footer-link(href="#") Bantuan
          a.footer-link(href="#") Kebijakan Privasi
          a.footer-link(href="#") Syarat & Ketentuan
        .copyright ¬© #{year} #{propertyName || 'Property Management System'}. All rights reserved.