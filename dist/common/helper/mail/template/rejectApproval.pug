doctype html
html(lang="id")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Registrasi Ditolak
    style.
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #374151; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); padding: 20px 0; }
      .email-container { max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 20px; overflow: hidden; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15); }
      .header { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); padding: 40px 30px; text-align: center; position: relative; overflow: hidden; }
      .header::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); animation: fade 3s ease-in-out infinite; }
      @keyframes fade { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.6; } }
      .logo { width: 70px; height: 70px; background: rgba(255, 255, 255, 0.2); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 28px; color: white; position: relative; z-index: 1; backdrop-filter: blur(10px); }
      .header h1 { color: #ffffff; font-size: 26px; font-weight: 700; margin-bottom: 8px; position: relative; z-index: 1; }
      .header p { color: rgba(255, 255, 255, 0.9); font-size: 16px; position: relative; z-index: 1; font-weight: 500; }
      .content { padding: 40px 30px; }
      .status-indicator { background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%); border: 1px solid #ef4444; border-radius: 16px; padding: 24px; text-align: center; margin-bottom: 30px; position: relative; }
      .status-indicator::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #ef4444, #dc2626, #b91c1c); }
      .status-icon { width: 60px; height: 60px; background: linear-gradient(135deg, #ef4444, #dc2626); border-radius: 50%; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; }
      .status-title { font-size: 20px; font-weight: 700; color: #b91c1c; margin-bottom: 8px; }
      .status-subtitle { font-size: 14px; color: #991b1b; }
      .greeting { font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 16px; }
      .message { font-size: 16px; color: #6b7280; margin-bottom: 30px; line-height: 1.7; }
      .rejection-details { background: #f9fafb; border-left: 4px solid #ef4444; padding: 24px; margin: 30px 0; border-radius: 0 12px 12px 0; }
      .rejection-details h3 { color: #1f2937; font-size: 18px; font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; }
      .detail-icon { margin-right: 8px; font-size: 18px; color: #ef4444; }
      .info-grid { display: grid; gap: 12px; }
      .info-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); }
      .info-item:last-child { border-bottom: none; }
      .info-label { font-weight: 500; color: #6b7280; font-size: 14px; }
      .info-value { font-weight: 600; color: #1f2937; font-size: 14px; }
      .reason-section { background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); border: 1px solid #f59e0b; border-radius: 12px; padding: 24px; margin: 30px 0; }
      .reason-title { font-size: 16px; font-weight: 600; color: #92400e; margin-bottom: 12px; display: flex; align-items: center; }
      .reason-content { background: white; padding: 16px; border-radius: 8px; border-left: 3px solid #f59e0b; }
      .reason-text { font-size: 14px; color: #92400e; line-height: 1.6; font-style: italic; }
      .next-steps { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: 1px solid #0ea5e9; border-radius: 16px; padding: 24px; margin: 30px 0; }
      .steps-title { font-size: 18px; font-weight: 600; color: #0c4a6e; margin-bottom: 16px; display: flex; align-items: center; }
      .steps-list { list-style: none; padding: 0; }
      .step-item { display: flex; align-items: flex-start; margin-bottom: 12px; font-size: 14px; color: #0c4a6e; }
      .step-item:last-child { margin-bottom: 0; }
      .step-number { width: 24px; height: 24px; background: #0ea5e9; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; margin-right: 12px; flex-shrink: 0; }
      .support-section { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 24px; text-align: center; margin: 30px 0; }
      .support-title { font-size: 18px; font-weight: 600; color: #1f2937; margin-bottom: 12px; }
      .support-description { font-size: 14px; color: #6b7280; margin-bottom: 20px; }
      .contact-options { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
      .contact-btn { display: inline-flex; align-items: center; text-decoration: none; padding: 12px 20px; border-radius: 10px; font-weight: 500; font-size: 14px; transition: all 0.3s ease; }
      .btn-email { background: linear-gradient(135deg, #6b7280, #4b5563); color: white; }
      .btn-phone { background: linear-gradient(135deg, #10b981, #059669); color: white; }
      .btn-whatsapp { background: linear-gradient(135deg, #22c55e, #16a34a); color: white; }
      .contact-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); }
      .contact-icon { margin-right: 8px; font-size: 16px; }
      .disclaimer { background: #f8fafc; border-left: 4px solid #64748b; padding: 16px; margin: 30px 0; border-radius: 0 8px 8px 0; }
      .disclaimer-text { font-size: 13px; color: #475569; line-height: 1.5; }
      .footer { background: #f9fafb; padding: 30px; text-align: center; border-top: 1px solid #e5e7eb; }
      .footer-text { font-size: 14px; color: #6b7280; margin-bottom: 16px; }
      .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
      .footer-link { color: #ef4444; text-decoration: none; font-size: 14px; font-weight: 500; }
      .footer-link:hover { text-decoration: underline; }
      .copyright { font-size: 12px; color: #9ca3af; }
      @media (max-width: 600px) { .email-container { margin: 0 10px; border-radius: 16px; } .content, .header, .footer { padding: 20px; } .contact-options { flex-direction: column; align-items: center; } .contact-btn { width: 100%; max-width: 200px; justify-content: center; } .footer-links { flex-direction: column; gap: 12px; } }

  body
    .email-container
      .header
        .logo ‚ùå
        h1 Registrasi Ditolak
        p Property Management System
      
      .content
        .status-indicator
          .status-icon ‚úó
          .status-title Permohonan Tidak Disetujui
          .status-subtitle Registrasi sebagai anggota keluarga ditolak
        
        .greeting Kepada Yth. #{familyMemberName},
        
        .message Kami informasikan bahwa permohonan registrasi Anda sebagai anggota keluarga 
          | telah ditinjau dan sayangnya tidak dapat kami setujui pada saat ini.
        
        .rejection-details
          h3
            span.detail-icon üìã
            | Detail Permohonan
          .info-grid
            .info-item
              span.info-label Nama Pemohon
              span.info-value #{familyMemberName}
            .info-item
              span.info-label Kepala Keluarga
              span.info-value #{headOfHouseholdName}
            .info-item
              span.info-label Status
              span.info-value(style="color: #dc2626; font-weight: 700;") ‚ùå Ditolak
            .info-item
              span.info-label Tanggal Keputusan
              span.info-value #{new Date().toLocaleDateString('id-ID')}
        
        if reason
          .reason-section
            .reason-title
              span.detail-icon üí≠
              | Alasan Penolakan
            .reason-content
              .reason-text "#{reason}"
        
        .next-steps
          .steps-title
            span.detail-icon üîÑ
            | Langkah Selanjutnya
          ul.steps-list
            li.step-item
              .step-number 1
              div Hubungi kepala keluarga (#{headOfHouseholdName}) untuk klarifikasi lebih lanjut
            li.step-item
              .step-number 2
              div Pastikan data dan dokumen yang Anda berikan sudah lengkap dan benar
            li.step-item
              .step-number 3
              div Anda dapat mengajukan permohonan ulang setelah mengatasi kendala yang ada
            li.step-item
              .step-number 4
              div Jika ada pertanyaan, silakan hubungi tim customer service kami
        
        .support-section
          .support-title ü§ù Butuh Bantuan?
          .support-description Tim customer service kami siap membantu Anda mengatasi kendala ini.
            | Hubungi kami melalui salah satu cara di bawah:
          .contact-options
            a.contact-btn.btn-email(href="mailto:support@propertymanagement.com")
              span.contact-icon üìß
              | Email Support
            a.contact-btn.btn-phone(href="tel:+62211234567")
              span.contact-icon üìû
              | Call Center
            a.contact-btn.btn-whatsapp(href="https://wa.me/62811234567")
              span.contact-icon üí¨
              | WhatsApp
        
        .message
          p Kami memahami bahwa keputusan ini mungkin mengecewakan. Namun, keputusan ini dibuat 
            | demi menjaga keamanan dan kenyamanan seluruh penghuni property. 
            | Kami tetap terbuka untuk mendiskusikan kemungkinan registrasi di masa mendatang.
        
        .disclaimer
          .disclaimer-text
            strong Catatan:
            |  Keputusan penolakan ini bukan merupakan diskriminasi personal. 
            | Setiap permohonan ditinjau berdasarkan kriteria dan kebijakan yang berlaku. 
            | Anda dapat mengajukan banding atau permohonan ulang dengan melengkapi persyaratan yang diperlukan.
      
      .footer
        .footer-text Terima kasih atas pengertian Anda. Kami berharap dapat melayani Anda dengan lebih baik di masa mendatang.
        .footer-links
          a.footer-link(href="#") FAQ
          a.footer-link(href="#") Kebijakan
          a.footer-link(href="#") Support
          a.footer-link(href="#") Kontak
        .copyright ¬© #{year} Property Management System. All rights reserved.